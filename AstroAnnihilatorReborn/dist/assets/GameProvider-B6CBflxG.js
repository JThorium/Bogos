import{j as O}from"./jsx-runtime-BquoWIa_.js";import{r as c}from"./index-fizykdkW.js";const g=[{id:"interceptor",name:"Interceptor",geometry:{type:"CylinderGeometry",args:[.2,.4,.1,32]},colors:[1,0,0,0,1,0],pattern:2,stats:{moveSpeed:.2,health:3,shotCooldown:10,superchargePower:1,drones:0,damage:1},shoot:"single",thrusterColor:65280,unlocked:!0,cost:0,unlockMethod:"default",ability:"Hold for Rapid Fire burst."},{id:"destroyer",name:"Destroyer",geometry:{type:"SphereGeometry",args:[.4,32,32]},colors:[.7,.7,.7,0,0,1],pattern:1,stats:{moveSpeed:.15,health:2,shotCooldown:8,superchargePower:3,drones:0,damage:1},shoot:"spread",thrusterColor:255,unlocked:!1,cost:0,unlockMethod:"score",unlockScore:5e3,ability:"Starts with 1 Minion. Hold for homing minion fire."},{id:"sentinel",name:"Sentinel",geometry:{type:"DodecahedronGeometry",args:[.35]},colors:[.5,0,1,1,1,0],pattern:0,stats:{moveSpeed:.13,health:3,shotCooldown:10,superchargePower:2,drones:0,damage:1},shoot:"spread",thrusterColor:16711680,unlocked:!1,cost:15e3,unlockMethod:"score",unlockScore:15e3,ability:"Starts with +1 Shield. Hold to consume a shield for a defensive nova."},{id:"ghost",name:"Ghost",geometry:{type:"IcosahedronGeometry",args:[.35]},colors:[0,1,1,1,0,1],pattern:0,stats:{moveSpeed:.14,health:3,shotCooldown:10,superchargePower:2,drones:0,damage:1},shoot:"spiral",thrusterColor:16711935,unlocked:!1,cost:4e4,unlockMethod:"score",unlockScore:3e4,ability:"Brief invincibility after hit. Hold to manually phase out."},{id:"warlock",name:"Warlock",geometry:{type:"ConeGeometry",args:[.3,.5,32]},colors:[.5,0,1,1,1,0],pattern:0,stats:{moveSpeed:.13,health:3,shotCooldown:10,superchargePower:1,drones:0,damage:1},shoot:"homing",thrusterColor:16776960,unlocked:!1,cost:55e3,unlockMethod:"score",unlockScore:5e4,ability:"Fires homing shots. Hold to charge a powerful homing missile swarm."},{id:"juggernaut",name:"Juggernaut",geometry:{type:"BoxGeometry",args:[.45,.45,.45]},colors:[0,1,1,1,.8,0],pattern:0,stats:{moveSpeed:.1,health:6,shotCooldown:10,superchargePower:1,drones:0,damage:1},shoot:"single",thrusterColor:16766720,unlocked:!1,cost:3e4,unlockMethod:"score",unlockScore:75e3,ability:"Starts with 6 HP. Hold for a brief, invincible ramming charge."},{id:"vortex",name:"Vortex",geometry:{type:"TorusGeometry",args:[.3,.1,16,32]},colors:[.5,.5,.5,1,0,0],pattern:1,stats:{moveSpeed:.16,health:3,shotCooldown:10,superchargePower:1,drones:0,damage:1},shoot:"arc",thrusterColor:16711680,unlocked:!1,cost:125e3,unlockMethod:"score",unlockScore:1e5,ability:"Pulls in powerups. Hold to create a bullet-sucking singularity."},{id:"reaper",name:"Reaper",geometry:{type:"CylinderGeometry",args:[.25,.45,.15,32]},colors:[1,0,1,0,1,0],pattern:2,stats:{moveSpeed:.15,health:3,shotCooldown:9,superchargePower:1,drones:0,damage:1},shoot:"single",thrusterColor:65280,unlocked:!1,cost:15e4,unlockMethod:"score",unlockScore:15e4,ability:"Hold to create a field that converts enemies and bullets into Raw Materials."},{id:"paladin",name:"Paladin",geometry:{type:"SphereGeometry",args:[.4,32,32]},colors:[1,1,0,0,0,1],pattern:0,stats:{moveSpeed:.12,health:3,shotCooldown:10,superchargePower:2,drones:0,damage:1},shoot:"burst",thrusterColor:255,unlocked:!1,cost:2500,unlockMethod:"credits",ability:"Absorbs shots to charge laser. Hold to fire continuous laser beam."},{id:"spectre",name:"Spectre",geometry:{type:"CylinderGeometry",args:[.3,.3,.1,6]},colors:[0,0,1,1,0,0],pattern:1,stats:{moveSpeed:.16,health:3,shotCooldown:10,superchargePower:1,drones:0,damage:1},shoot:"burst",thrusterColor:16711680,unlocked:!1,cost:4e3,unlockMethod:"credits",ability:"Periodically intangible. Hold to charge a short-range teleport."},{id:"alchemist",name:"Alchemist",geometry:{type:"BoxGeometry",args:[.4,.4,.4]},colors:[0,0,0,1,0,1],pattern:2,stats:{moveSpeed:.12,health:3,shotCooldown:10,superchargePower:1,drones:1,damage:1},shoot:"single",thrusterColor:16711935,unlocked:!1,cost:5e3,unlockMethod:"credits",ability:"Hold to transmute nearby bullets to credits & give kills a chance to drop powerups."},{id:"engineer",name:"Engineer",geometry:{type:"CylinderGeometry",args:[.25,.5,.15,32]},colors:[0,.5,.5,1,.5,0],pattern:1,stats:{moveSpeed:.18,health:3,shotCooldown:10,superchargePower:1,drones:0,damage:1},shoot:"single",thrusterColor:16753920,unlocked:!1,cost:7500,unlockMethod:"credits",ability:"Hold to deploy a temporary, mobile Sentry that follows you."},{id:"chronomancer",name:"Chronomancer",geometry:{type:"SphereGeometry",args:[.45,32,32]},colors:[0,1,0,.5,0,1],pattern:1,stats:{moveSpeed:.13,health:3,shotCooldown:10,superchargePower:1,drones:0,damage:1},shoot:"homing",thrusterColor:8388736,unlocked:!1,cost:1e4,unlockMethod:"credits",ability:"Shots can slow enemies. Hold to create a large time-slowing field."},{id:"berserker",name:"Berserker",geometry:{type:"ConeGeometry",args:[.35,.5,32]},colors:[1,1,0,.5,0,.5],pattern:1,stats:{moveSpeed:.14,health:3,shotCooldown:10,superchargePower:2,drones:0,damage:1},shoot:"explosive",thrusterColor:8388736,unlocked:!1,cost:6e3,unlockMethod:"credits",ability:"Fire rate increases as health drops. Hold to sacrifice health for a massive damage boost."},{id:"phoenix",name:"Phoenix",geometry:{type:"TetrahedronGeometry",args:[.4]},colors:[1,.8,0,0,1,1],pattern:0,stats:{moveSpeed:.15,health:3,shotCooldown:10,superchargePower:2,drones:0,damage:1},shoot:"burst",thrusterColor:65535,unlocked:!1,cost:12e3,unlockMethod:"credits",ability:"Revives once. Hold to consume revive for a screen-clearing nova, full heal, & invincibility."},{id:"omega",name:"Omega",geometry:{type:"SphereGeometry",args:[.5,32,32]},colors:[.5,0,1,1,1,0],pattern:0,stats:{moveSpeed:.1,health:6,shotCooldown:5,superchargePower:1,drones:2,damage:1},shoot:"homing",thrusterColor:16776960,unlocked:!1,cost:999999999999,unlockMethod:"credits",ability:"The ultimate form. All abilities, double health & fire rate. Hold to cycle abilities."}];var I=Object.defineProperty,w=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,C=(a,e,r)=>e in a?I(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,m=(a,e)=>{for(var r in e||(e={}))x.call(e,r)&&C(a,r,e[r]);if(w)for(var r of w(e))F.call(e,r)&&C(a,r,e[r]);return a};const v=c.createContext(),l=(a,e)=>{try{if(typeof window!="undefined"&&window.localStorage)return localStorage.getItem(a)||e}catch(r){console.warn("localStorage not available:",r)}return e},h=(a,e)=>{try{return JSON.parse(a)}catch(r){return console.warn("JSON parse error:",r),e}},n=(a,e)=>{try{typeof window!="undefined"&&window.localStorage&&localStorage.setItem(a,e)}catch(r){console.warn("localStorage setItem failed:",r)}},M=({children:a})=>{const[e,r]=c.useState(()=>{const o=parseInt(l("starCredits","0")),s=new Set(h(l("unlockedUFOIds",'["scout"]'),["scout"])),t=h(l("hasPurchasedScoreBoost","false"),!1),i=parseInt(l("spawnMultiplier","1")),S=l("selectedUFOId","scout"),u=g.find(b=>b.id===S);return{currentScreen:"mainMenu",score:0,highScore:parseInt(localStorage.getItem("highScore")||"0"),playerHealth:u?u.stats.health:3,playerShield:u&&u.id==="sentinel"?1:0,playerBombs:0,starCredits:o,rawMaterials:parseInt(l("rawMaterials","0")),materialsThisRun:0,hasPurchasedScoreBoost:t,spawnMultiplier:i,selectedUFOId:S,unlockedUFOIds:s,gameFrame:0,waveCount:0,waveCredits:0,isGameOver:!1,scoreMultiplier:1,gameMode:l("gameMode","classic"),fusionConfig:h(l("fusionConfig","[]"),[]),isCombineAllActive:h(l("isCombineAllActive","false"),!1),upgrades:h(l("upgrades",JSON.stringify({startShield:{level:0,maxLevel:10,cost:100,costIncrease:150,matCost:1,matIncrease:1,name:"Start Shield"},startMinion:{level:0,maxLevel:10,cost:500,costIncrease:500,matCost:5,matIncrease:2,name:"Start Minion"},fireRate:{level:0,maxLevel:10,cost:250,costIncrease:250,matCost:2,matIncrease:2,name:"Fire Rate"},startBomb:{level:0,maxLevel:10,cost:750,costIncrease:750,matCost:3,matIncrease:1,name:"Start Bomb"},powerupDuration:{level:0,maxLevel:10,cost:400,costIncrease:400,matCost:2,matIncrease:1,name:"Powerup Duration"},creditBonus:{level:0,maxLevel:10,cost:1e3,costIncrease:1e3,matCost:10,matIncrease:5,name:"Credit Bonus"}})),{startShield:{level:0,maxLevel:10,cost:100,costIncrease:150,matCost:1,matIncrease:1,name:"Start Shield"},startMinion:{level:0,maxLevel:10,cost:500,costIncrease:500,matCost:5,matIncrease:2,name:"Start Minion"},fireRate:{level:0,maxLevel:10,cost:250,costIncrease:250,matCost:2,matIncrease:2,name:"Fire Rate"},startBomb:{level:0,maxLevel:10,cost:750,costIncrease:750,matCost:3,matIncrease:1,name:"Start Bomb"},powerupDuration:{level:0,maxLevel:10,cost:400,costIncrease:400,matCost:2,matIncrease:1,name:"Powerup Duration"},creditBonus:{level:0,maxLevel:10,cost:1e3,costIncrease:1e3,matCost:10,matIncrease:5,name:"Credit Bonus"}}),shopCosts:{shield:75,bomb:125,minion:200,health:150}}}),d=o=>{r(s=>{const t=m(m({},s),o);return o.unlockedUFOIds instanceof Set?t.unlockedUFOIds=new Set(o.unlockedUFOIds):s.unlockedUFOIds instanceof Set&&o.unlockedUFOIds===void 0&&(t.unlockedUFOIds=new Set(s.unlockedUFOIds)),o.upgrades?t.upgrades=m(m({},s.upgrades),o.upgrades):s.upgrades&&o.upgrades===void 0&&(t.upgrades=m({},s.upgrades)),n("highScore",t.highScore.toString()),n("starCredits",t.starCredits.toString()),n("rawMaterials",t.rawMaterials.toString()),n("hasPurchasedScoreBoost",JSON.stringify(t.hasPurchasedScoreBoost)),n("spawnMultiplier",t.spawnMultiplier.toString()),n("selectedUFOId",t.selectedUFOId),n("unlockedUFOIds",JSON.stringify(Array.from(t.unlockedUFOIds))),n("gameMode",t.gameMode),n("fusionConfig",JSON.stringify(t.fusionConfig)),n("isCombineAllActive",JSON.stringify(t.isCombineAllActive)),n("upgrades",JSON.stringify(t.upgrades)),t})},p=c.useMemo(()=>g.find(o=>o.id===e.selectedUFOId),[e.selectedUFOId]),f=c.useCallback(o=>{if(e.unlockedUFOIds.has(o)){const s=g.find(t=>t.id===o);s&&d({selectedUFOId:o,playerHealth:s.stats.health})}else console.warn(`UFO ${o} is not unlocked!`)},[e.unlockedUFOIds,d]),y=c.useCallback((o,s)=>{const t=g.find(i=>i.id===o);return t?e.unlockedUFOIds.has(t.id)?(console.warn(`UFO ${o} is already unlocked.`),!1):e.starCredits>=s?(d(i=>({starCredits:i.starCredits-s,unlockedUFOIds:new Set(i.unlockedUFOIds).add(o)})),console.log(`UFO ${o} unlocked for ${s} credits!`),!0):(console.warn(`Not enough credits to unlock UFO ${o}. Needed: ${s}, Have: ${e.starCredits}`),!1):(console.error(`UFO with ID ${o} not found.`),!1)},[e.unlockedUFOIds,e.starCredits,d]),k=c.useMemo(()=>({gameState:e,updateGameState:d,currentUFO:p,selectUFO:f,unlockUFO:y}),[e,p,f,y]);return O.jsx(v.Provider,{value:k,children:a})},P=()=>c.useContext(v),H=Object.freeze(Object.defineProperty({__proto__:null,GameProvider:M,useGame:P},Symbol.toStringTag,{value:"Module"}));export{H as G,g as a,P as u};
